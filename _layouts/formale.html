---
layout: page
---

<div class="container my-5">
  <div class="row">
    
    <!-- Sidebar con indice automatico -->
<nav class="col-md-3 d-none d-md-block bg-light border-end">
  <div class="position-sticky top-0" style="max-height: 100vh; overflow-y: auto; padding: 1rem;">
    <h6 class="text-uppercase fw-bold text-primary mb-4" style="font-size: 0.9rem; letter-spacing: 0.05em;">
      Indice della pagina
    </h6>
    <div id="toc" class="small ps-3 border-start" style="border-color: #0d6efd;">
      <!-- Qui viene inserito l'indice via JavaScript -->
    </div>
  </div>
</nav>


    <!-- Contenuto principale -->
    <div class="col-md-9">
      <article id="main-content">
        {{ content }}
      </article>
    </div>
  </div>
</div>

<!-- TOC Generator Script -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const content = document.getElementById("main-content");
  const toc = document.getElementById("toc");
  if (!content || !toc) return;

  const headings = content.querySelectorAll("h2, h3");
  if (!headings.length) return;

  const ul = document.createElement("ul");
  ul.classList.add("nav", "flex-column");

  headings.forEach((heading, i) => {
    // Crea un ID se manca
    if (!heading.id) {
      heading.id = heading.textContent.toLowerCase().replace(/\s+/g, '-').replace(/[^\w\-]+/g, '');
    }

    const li = document.createElement("li");
    li.className = "nav-item";
    const a = document.createElement("a");
    a.className = "nav-link px-0 py-1 text-dark";
    if (heading.tagName === "H3") a.classList.add("ps-3");
    a.href = `#${heading.id}`;
    a.textContent = heading.textContent;
    li.appendChild(a);
    ul.appendChild(li);
  });

  toc.appendChild(ul);
});
</script>
